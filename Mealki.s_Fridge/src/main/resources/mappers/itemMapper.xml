<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mappers.itemMapper">
    <select id="getItemList" resultType="com.itwillbs.domain.ItemDTO">
        select * from products
        order by item_num desc
        limit #{startRow}, #{pageSize}
    </select>
    
    <select id="getItemCount" resultType="java.lang.Integer">
    select count(*) from products
    </select>
    
    <insert id="saveItemImage" parameterType="java.util.Map">
    INSERT INTO item_images (item_num, image_name)
    VALUES (#{itemNum}, #{imageName})
  </insert>

  <select id="getItemImage" resultType="java.lang.String" parameterType="java.lang.String">
    SELECT image_name
    FROM item_images
    WHERE item_num = #{itemNum}
  </select>

<!--     <insert id="insertItem"> -->
<!--         insert into item -->
<!--         values (#{itemNum}, #{itemType}, #{itemName}, #{weight}, #{supplier}, #{supplyPrice}, #{salesPrice}, #{itemImage}) -->
<!--     </insert> -->

<!--     <update id="updateItem"> -->
<!--         update item -->
<!--         set itemType = #{itemType}, -->
<!--             itemName = #{itemName}, -->
<!--             weight = #{weight}, -->
<!--             supplier = #{supplier}, -->
<!--             supplyPrice = #{supplyPrice}, -->
<!--             salesPrice = #{salesPrice}, -->
<!--             itemImage = #{itemImage} -->
<!--         where itemNum -->
<!--          </update> -->

<!-- <delete id="deleteItem"> -->
<!--     delete from item -->
<!--     where itemNum = #{itemNum} -->
<!-- </delete> -->

<!-- <select id="searchItem" parameterType="java.util.Map" resultType="com.itwillbs.domain.ItemDTO"> -->
<!--     select * -->
<!--     from item -->
<!--     where itemName like '%' || #{itemName} || '%' -->
<!--     and itemType like '%' || #{itemType} || '%' -->
<!-- </select> -->
</mapper>